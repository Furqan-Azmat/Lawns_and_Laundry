<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Account Settings | Lawns & Laundry</title>
    <link rel="stylesheet" href="../../assets/css/styles.css" />
</head>

<body>

    <!-- Header / Banner -->
    <header id="banner_top" role="banner" aria-label="Top navigation">
        <a class="skip-link" href="#main">Skip to content</a>
        
        <!-- Logo -->
        <a href="../../index.html" id="logo" aria-label="Site logo">
            <img id="img_logo" src="../../images/icons/lawns&Laundry-logo.png" alt="Lawns & Laundry logo" />
        </a>
        
        <!-- Main Navigation Buttons (Centered) -->
        <nav class="quest-nav" aria-label="Primary">
            <a href="../adventurer/adventurerAccepted.html" class="icon-chip square book-icon" title="Profile Hub" aria-label="Profile Hub">
                <img src="../../images/icons/book icon.png" alt="Profile Hub" />
            </a>
            <a href="../quests/questBoard.html" class="icon-chip square" title="Quest Board" aria-label="Quest Board">
                <img src="../../images/icons/sword icon.png" alt="Quest Board" />
            </a>
            <a href="../quests/guild.html" class="icon-chip square" title="Guild Association" aria-label="Guild">
                <img src="../../images/icons/guild icon.png" alt="Guild" />
            </a>
        </nav>
        
        <!-- Right Side Navigation -->
        <div class="nav-right">
            <!-- Notifications Bell -->
            <a href="../dashboard/messages.html" class="icon-chip" aria-label="Notifications">
                <img src="../../images/icons/bell icon.png" alt="Notifications">
                <span class="badge">3</span>
            </a>
            <!-- Profile Menu -->
            <div class="profile-menu-wrapper">
                <button class="icon-chip active" id="settingsProfileBtn" aria-label="Profile" style="background-color: #B8B5E5; border-color: #B8B5E5;">
                    <img src="../../images/icons/profile icon.png" alt="Profile">
                </button>
                <div class="profile-menu" id="settingsProfileMenu" role="menu" aria-label="Profile options">
                    <button id="settingsProfileAccount" role="menuitem">Your Account</button>
                    <button id="settingsProfileSettings" role="menuitem">Settings</button>
                    <button id="settingsProfileSignout" role="menuitem">Sign Out</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Settings layout: left panel + main content -->
    <div class="settings-layout">

        <!-- Left Settings Panel -->
        <aside class="settings-sidebar" aria-label="My account navigation">
            <div class="settings-avatar">
                <img src="../../images/icons/profile icon.png" alt="User avatar" />
            </div>

            <h1 class="settings-heading">My Account</h1>

            <nav class="settings-nav">
                <a href="../dashboard/accountSummary.html" class="settings-nav-item">
                    <span>Account Summary</span>
                </a>

                <!-- Active section -->
                <a href="../dashboard/settings.html" class="settings-nav-item is-active">
                    <span>Account Settings</span>
                </a>

                <a href="../dashboard/Accounts.html" class="settings-nav-item">
                    <span>My Profile</span>
                </a>

                <a href="../dashboard/addressbook.html" class="settings-nav-item">
                    <span>Address Book</span>
                </a>

                <a href="../dashboard/emailpref.html" class="settings-nav-item">
                    <span>Email Preferences</span>
                </a>

                <a href="../../index.html" class="settings-nav-item">
                    <span>Sign Out</span>
                </a>
            </nav>
        </aside>

        <!-- Main content -->
        <main class="main-content" id="main">
            <section class="card account-profile-card" aria-label="Account settings">

                <header class="account-profile-header">
                    <h2 class="account-profile-name">Account Settings</h2>
                </header>
                
                <p class="account-profile-helper" style="margin-bottom: 2rem;">
                    Manage your account security and login information.
                </p>

                <!-- Login & Security -->
                <section class="account-profile-section">
                    <h3>Login & Security</h3>
                    <p class="account-profile-helper">Update your password and email address.</p>

                    <div class="settings-option">
                        <div class="settings-option-info">
                            <h4>Password</h4>
                            <p>Change your password to keep your account secure</p>
                        </div>
                        <button class="btn btn-secondary" onclick="showPasswordChange()">Change Password</button>
                    </div>
                    
                    <div id="password-section" style="display: none; margin-top: 1rem;">
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="current-password">Current Password</label>
                            <input type="password" id="current-password" class="account-input" placeholder="Enter current password" style="min-height: auto; padding: 0.75rem 1rem;" />
                        </div>
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="new-password">New Password</label>
                            <input type="password" id="new-password" class="account-input" placeholder="Enter new password" style="min-height: auto; padding: 0.75rem 1rem;" />
                        </div>
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="confirm-password">Confirm New Password</label>
                            <input type="password" id="confirm-password" class="account-input" placeholder="Confirm new password" style="min-height: auto; padding: 0.75rem 1rem;" />
                        </div>
                        <button class="btn btn-primary" onclick="applySetting('password')">Update Password</button>
                        <p id="password-notification" class="notification"></p>
                    </div>

                    <div class="settings-option">
                        <div class="settings-option-info">
                            <h4>Email Address</h4>
                            <p>user@example.com</p>
                        </div>
                        <button class="btn btn-secondary" onclick="showEmailChange()">Change Email</button>
                    </div>
                    
                    <div id="email-section" style="display: none; margin-top: 1rem;">
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="new-email">New Email Address</label>
                            <input type="email" id="new-email" class="account-input" placeholder="Enter new email" style="min-height: auto; padding: 0.75rem 1rem;" />
                        </div>
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="confirm-email">Confirm New Email</label>
                            <input type="email" id="confirm-email" class="account-input" placeholder="Confirm new email" style="min-height: auto; padding: 0.75rem 1rem;" />
                        </div>
                        <button class="btn btn-primary" onclick="applySetting('email')">Update Email</button>
                        <p id="email-notification" class="notification"></p>
                    </div>
                </section>

                <!-- Privacy & Notifications -->
                <section class="account-profile-section">
                    <h3>Privacy</h3>
                    <p class="account-profile-helper">Control your privacy settings.</p>

                    <div class="settings-option">
                        <div class="settings-option-info">
                            <h4>Profile Visibility</h4>
                            <p>Control who can see your profile</p>
                        </div>
                        <select class="account-input" style="min-height: auto; padding: 0.75rem 1rem; max-width: 200px;">
                            <option>Public</option>
                            <option selected>Friends Only</option>
                            <option>Private</option>
                        </select>
                    </div>

                    <div class="settings-option">
                        <div class="settings-option-info">
                            <h4>Show Online Status</h4>
                            <p>Let others see when you're active</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </section>

                <!-- Danger Zone -->
                <section class="account-profile-section">
                    <h3>Danger Zone</h3>
                    <p class="account-profile-helper">Irreversible account actions.</p>

                    <div class="settings-option danger-option">
                        <div class="settings-option-info">
                            <h4>Delete Account</h4>
                            <p>Permanently delete your account and all data</p>
                        </div>
                        <button class="btn btn-danger">Delete Account</button>
                    </div>
                </section>

            </section>
        </main>

    </div>

    <script src="../../assets/js/script.js" defer></script>
    <script>
        function showPasswordChange() {
            const section = document.getElementById('password-section');
            section.style.display = section.style.display === 'none' ? 'block' : 'none';
        }
        
        function showEmailChange() {
            const section = document.getElementById('email-section');
            section.style.display = section.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>
